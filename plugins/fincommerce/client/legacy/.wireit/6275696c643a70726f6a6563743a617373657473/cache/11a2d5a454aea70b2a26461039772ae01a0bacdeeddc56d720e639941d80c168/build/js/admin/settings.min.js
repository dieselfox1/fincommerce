!function(t,e,i){t(function(){function n(){var i=!1;let n=t(".wp-list-table .check-column, .wc-settings-prevent-change-event");t("input, textarea, select, checkbox").on("change input",function(o){n.length&&n.has(o.target).length||i||(window.onbeforeunload=function(){return e.i18n_nav_warning},i=!0,t(".fincommerce-save-button").removeAttr("disabled"))}),t(".iris-picker").on("click",function(){i||(i=!0,t(".fincommerce-save-button").removeAttr("disabled"))}),t(".submit :input, input#search-submit").on("click",function(){window.onbeforeunload=""})}t("select#fincommerce_allowed_countries").on("change",function(){"specific"===t(this).val()?(t(this).closest("tr").next("tr").hide(),t(this).closest("tr").next().next("tr").show()):"all_except"===t(this).val()?(t(this).closest("tr").next("tr").show(),t(this).closest("tr").next().next("tr").hide()):(t(this).closest("tr").next("tr").hide(),t(this).closest("tr").next().next("tr").hide())}).trigger("change"),t("select#fincommerce_ship_to_countries").on("change",function(){"specific"===t(this).val()?t(this).closest("tr").next("tr").show():t(this).closest("tr").next("tr").hide()}).trigger("change"),t("input#fincommerce_manage_stock").on("change",function(){t(this).is(":checked")?t(this).closest("tbody").find(".manage_stock_field").closest("tr").show():t(this).closest("tbody").find(".manage_stock_field").closest("tr").hide()}).trigger("change"),t(".colorpick").iris({change:function(e,i){const n=t(this);n.parent().find(".colorpickpreview").css({backgroundColor:i.color.toString()}),setTimeout(function(){n.trigger("change")})},hide:!0,border:!0}).on("click focus",function(e){e.stopPropagation(),t(".iris-picker").hide(),t(this).closest("td").find(".iris-picker").show(),t(this).data("originalValue",t(this).val())}).on("change",function(){t(this).is(".iris-error")&&(t(this).data("originalValue").match(/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/)?t(this).val(t(this).data("originalValue")).trigger("change"):t(this).val("").trigger("change"))}),t(".iris-square-value").on("click",function(t){t.preventDefault()}),t(".colorpickpreview").on("click",function(e){e.stopPropagation(),t(this).next(".colorpick").click()}),t("body").on("click",function(){t(".iris-picker").hide()}),t(n);const o=e=>!!e.length&&Array.from(e).some(e=>t(e).find("input, textarea, select, checkbox").length),c=document.querySelector("#mainform");new MutationObserver(e=>{for(const i of e)"childList"===i.type&&(o(i.addedNodes)?(n(),t(".fincommerce-save-button").removeAttr("disabled")):o(i.removedNodes)&&t(".fincommerce-save-button").removeAttr("disabled"))}).observe(c,{childList:!0,subtree:!0}),t("table.wc_gateways tbody, table.wc_shipping tbody").sortable({items:"tr",cursor:"move",axis:"y",handle:"td.sort",scrollSensitivity:40,helper:function(e,i){return i.children().each(function(){t(this).width(t(this).width())}),i.css("left","0"),i},start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.removeAttr("style"),e.item.trigger("updateMoveButtons",{isInitialLoad:!1})}}),t(".fincommerce").on("click",".select_all",function(){return t(this).closest("td").find("select option").prop("selected",!0),t(this).closest("td").find("select").trigger("change"),!1}),t(".fincommerce").on("click",".select_none",function(){return t(this).closest("td").find("select option").prop("selected",!1),t(this).closest("td").find("select").trigger("change"),!1}),t(".wc-item-reorder-nav").find(".wc-move-up, .wc-move-down").on("click",function(){var n=t(this),o=n.closest("tr");n.trigger("focus");var c=n.is(".wc-move-up"),s=n.is(".wc-move-down");if(c){var r=o.prev("tr");r&&r.length&&(r.before(o),i.a11y.speak(e.i18n_moved_up))}else if(s){var a=o.next("tr");a&&a.length&&(a.after(o),i.a11y.speak(e.i18n_moved_down))}n.trigger("focus"),n.closest("table").trigger("updateMoveButtons",{isInitialLoad:!1})}),t(".wc-item-reorder-nav").closest("table").on("updateMoveButtons",function(e,i){var n=t(this),o=t(this).find("tbody tr:last"),c=t(this).find("tbody tr:first");n.find(".wc-item-reorder-nav .wc-move-disabled").removeClass("wc-move-disabled").attr({tabindex:"0","aria-hidden":"false"}),c.find(".wc-item-reorder-nav .wc-move-up").addClass("wc-move-disabled").attr({tabindex:"-1","aria-hidden":"true"}),o.find(".wc-item-reorder-nav .wc-move-down").addClass("wc-move-disabled").attr({tabindex:"-1","aria-hidden":"true"}),i.isInitialLoad||t(".fincommerce-save-button").removeAttr("disabled")}),t(".wc-item-reorder-nav").closest("table").trigger("updateMoveButtons",{isInitialLoad:!0}),t(".submit button").on("click",function(){if("specific"===t("select#fincommerce_allowed_countries").val()&&!t('[name="fincommerce_specific_allowed_countries[]"]').val())return!!window.confirm(fincommerce_settings_params.i18n_no_specific_countries_selected)}),t("#settings-other-payment-methods").on("click",function(e){"undefined"==typeof window.wcTracks.recordEvent&&"undefined"==typeof window.wc.tracks.recordEvent||(window.wc.tracks.recordEvent||window.wcTracks.recordEvent)("settings_payments_recommendations_other_options",{available_payment_methods:t.map(t("td.wc_payment_gateways_wrapper tbody tr[data-gateway_id] "),function(e){return t(e).attr("data-gateway_id")})})}),t(".fincommerce-save-button.components-button").on("click",function(e){t(this).attr("disabled")||t(this).addClass("is-busy")}),document.querySelectorAll("body.fincommerce_page_wc-settings #mainform .conditional.description").forEach(e=>{const i=t(e.dataset.dependsOn),n=e.dataset.showIfEquals;if(undefined===n||0===i.length)return;const o=()=>{e.style.visibility=i.val()===n?"visible":"hidden"};i.on("change",o),o()}),function(){const t=document.body;if(!t.classList.contains("mobile")||!t.classList.contains("fincommerce_page_wc-settings"))return;const e=document.querySelector(".nav-tab-active");if(!e||window.innerWidth>=500)return;const i=e.parentElement;if(!i||i.scrollWidth<=i.clientWidth)return;const n=e.offsetLeft,o=n+e.offsetWidth,c=i.scrollLeft,s=c,r=c+i.clientWidth;if(n<s||o>r){const t=n-i.clientWidth/2+e.offsetWidth/2;i.scrollTo({left:t,behavior:"auto"})}}(),function(){const t=document.body;if(!t.classList.contains("mobile")||!t.classList.contains("fincommerce_page_wc-settings"))return;const e=document.getElementsByClassName("nav-tab-wrapper");e.length&&e[0].offsetWidth!==window.innerWidth&&(e[0].style.width=window.innerWidth+"px")}()})}(jQuery,fincommerce_settings_params,wp);